(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[16],{245:function(e,t,n){"use strict";n.r(t);var s=n(11),r=n(30),i=n(33),c=n(32),a=n(31),o=n(1),l=n(61),d=n.n(l),h=n(17),j=n(35),p=n(4),b=n(3),u=function(e){var t=e.styles,n=e.email,s=e.step1,r=e.toggle,i=e.stepsUnlock,c=e.emailIsValid,a=e.handleEmailValidation,o=e.onChangeEmail,l=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(n).toLowerCase());return Object(b.jsxs)(p.C,{disabled:!s,style:t.collapsePannel,children:[Object(b.jsxs)("h3",{style:t.collapasePannelTitle,onClick:function(){return r("step1")},children:[Object(b.jsx)(p.b,{color:"secondary",pill:!0,size:"sm",children:"1"}),"  Customer"]}),Object(b.jsxs)(p.l,{isOpen:s,children:[Object(b.jsx)("p",{children:"Enter your email for express checkout, an email will be sent to you allowing account creation"}),Object(b.jsx)(p.A,{for:"exampleEmail",children:"Email"}),Object(b.jsxs)(p.Q,{children:[Object(b.jsxs)(p.k,{md:"6",children:[Object(b.jsx)(p.v,{invalid:!c,type:"email",name:"email",id:"exampleEmail",placeholder:"example@gmail.com",value:n,onChange:o}),Object(b.jsx)(p.t,{children:"Email is not valid"})]}),Object(b.jsx)(p.k,{md:"6",children:Object(b.jsx)(p.c,{disabled:!1,onClick:function(){l?(i("step2"),a(!0)):a(!1)},children:"Continue"})}),Object(b.jsx)(p.k,{xs:"12",children:Object(b.jsx)("div",{style:{margin:"20px"},children:Object(b.jsx)(p.n,{type:"checkbox",id:"exampleCustomCheckbox",label:"Suscribe to our newsletter"})})})]})]})]})};var m=n(37);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],s=!0,r=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(s=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);s=!0);}catch(o){r=!0,i=o}finally{try{s||null==a.return||a.return()}finally{if(r)throw i}}return n}}(e,t)||Object(m.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=n(12),g=function(e){var t=e.styles,n=e.step2,s=e.step2Unlock,r=e.toggle,i=e.stepsUnlock,c=e.onChangeFirstName,a=e.onChangeLastName,o=e.onChangeCountry,l=e.onChangeCity,d=e.onChangeProvince,h=e.onChangePostalCode,j=e.onChangePhoneNumber,u=e.onChangeAdress1,m=e.onChangeAdress2,g=e.onChangeShipppingMethod,C=e.firstName,f=e.lastName,y=e.country,v=e.city,k=e.province,S=e.postalCode,N=e.phoneNumber,A=e.address1,P=e.address2,U=e.shippingMethod,F=e.formValidator,E=e.formIsValid,V=e.addUserAddress,T={firstName:C.length>2&&"string"===typeof C,lastName:f.length>2&&"string"===typeof f,country:"string"===typeof y,city:v.length>2&&"string"===typeof v,province:k.length>2&&"string"===typeof k,postalCode:"number"===typeof S,phoneNumber:"number"===typeof N,address1:A.length>2&&"string"===typeof A};return Object(b.jsx)("div",{style:t.collapsePannel,children:Object(b.jsxs)(p.C,{disabled:!n,children:[Object(b.jsxs)("h3",{style:t.collapasePannelTitle,onClick:function(){return s&&r("step2")},children:[Object(b.jsx)(p.b,{color:"secondary",pill:!0,size:"sm",children:"2"}),"  Shipping "]}),Object(b.jsxs)(p.l,{isOpen:n,children:[Object(b.jsxs)(p.Q,{children:[Object(b.jsxs)(p.k,{md:6,style:t.formFieldsSpace,children:[Object(b.jsx)(p.A,{for:"First name",children:"First name"}),Object(b.jsx)(p.v,{type:"text",onChange:c,value:C})]}),Object(b.jsxs)(p.k,{md:6,style:t.formFieldsSpace,children:[Object(b.jsx)(p.A,{for:"exampleEmail",children:"last Name"}),Object(b.jsx)(p.v,{type:"text",onChange:a,value:f})]}),Object(b.jsxs)(p.k,{md:12,style:t.formFieldsSpace,children:[Object(b.jsx)(p.A,{for:"exampleSelect",children:"Country"}),Object(b.jsxs)(p.v,{type:"select",name:"select",onChange:o,value:y,children:[Object(b.jsx)("option",{value:"USA",children:"USA"}),Object(b.jsx)("option",{value:"UK",children:"UK"}),Object(b.jsx)("option",{value:"FRANCE",children:"FRANCE"}),Object(b.jsx)("option",{value:"GERMANY",children:"GERMANY"}),Object(b.jsx)("option",{value:"AUSTRALIA",children:"AUSTRALIA"})]})]}),Object(b.jsxs)(p.k,{md:6,style:t.formFieldsSpace,children:[Object(b.jsx)(p.A,{children:"City"}),Object(b.jsx)(p.v,{type:"text",onChange:l,value:v})]}),Object(b.jsxs)(p.k,{md:6,style:t.formFieldsSpace,children:[Object(b.jsx)(p.A,{children:"State/Province"}),Object(b.jsx)(p.v,{type:"text",onChange:d,value:k})]}),Object(b.jsxs)(p.k,{md:6,style:t.formFieldsSpace,children:[Object(b.jsx)(p.A,{children:"Postal Code"}),Object(b.jsx)(p.v,{type:"number",onChange:h,value:S})]}),Object(b.jsxs)(p.k,{md:6,style:t.formFieldsSpace,children:[Object(b.jsx)(p.A,{children:"Phone Number"}),Object(b.jsx)(p.v,{type:"number",onChange:j,value:N})]}),Object(b.jsxs)(p.k,{md:12,style:t.formFieldsSpace,children:[Object(b.jsx)(p.A,{for:"Address1",children:"Address1"}),Object(b.jsx)(p.v,{type:"text",onChange:u,value:A})]}),Object(b.jsxs)(p.k,{md:12,style:t.formFieldsSpace,children:[Object(b.jsx)(p.A,{children:"Address2"}),Object(b.jsx)(p.v,{type:"text",onChange:m,value:P})]}),Object(b.jsx)(p.k,{xs:6,style:t.formFieldsSpace,children:Object(b.jsxs)(p.u,{style:t.formFieldsSpace,children:[Object(b.jsx)(p.A,{for:"exampleCheckbox",children:Object(b.jsx)("u",{children:"Shipping Method"})}),Object(b.jsx)(p.u,{check:!0,children:Object(b.jsxs)(p.A,{check:!0,children:[Object(b.jsx)(p.v,{type:"radio",onChange:function(){return g(1)},checked:1===U})," ","express (2 days shipping)"]})}),Object(b.jsx)(p.u,{check:!0,disabled:!0,children:Object(b.jsxs)(p.A,{check:!0,children:[Object(b.jsx)(p.v,{type:"radio",onChange:function(){return g(2)},checked:2===U})," ","1 week shipping"]})})]})}),Object(b.jsx)("div",{className:"d-flex align-items-center",children:Object(b.jsx)(p.c,{disabled:!1,onClick:function(){if(Object(O.a)(new Set(Object.entries(T).map((function(e){var t=x(e,2);t[0];return t[1]})))).sort()[0])return i("step3"),V({firstName:C,lastName:f,country:y,city:v,province:k,postalCode:S,phoneNumber:N,address1:A,address2:P});F(!0)},children:"continue"})})]}),function(e){if(e)return!1===Object(O.a)(new Set(Object.entries(T).map((function(e){var t=x(e,2);t[0];return t[1]})))).sort()[0]?Object(b.jsx)(p.Q,{children:Object(b.jsxs)(p.a,{color:"danger",children:["Please fill these fields correctly:",!T.firstName&&Object(b.jsx)("div",{children:"First Name"}),!T.lastName&&Object(b.jsx)("div",{children:"Last Name"}),!T.country&&Object(b.jsx)("div",{children:"Country"}),!T.city&&Object(b.jsx)("div",{children:"City"}),!T.province&&Object(b.jsx)("div",{children:"Province"}),!T.postalCode&&Object(b.jsx)("div",{children:"Postal Code"}),!T.phoneNumber&&Object(b.jsx)("div",{children:"Phone Number"}),!T.address1&&Object(b.jsx)("div",{children:"Address1 field"})]})}):Object(b.jsx)(p.a,{color:"success",children:"Thank you! Click 'continue'"})}(E)]})]})})},C=function(e){var t=e.styles,n=e.step3,s=e.step3Unlock,r=e.toggle,i=e.getUserAddress,c=(e.onSubmitOrder,e.selectorTotalAmountCart,e.totalDelivery,i.address1),a=i.address2,o=i.city,l=i.country,d=i.firstName,h=i.lastName,j=i.phoneNumber,u=i.postalCode,m=i.province;return Object(b.jsx)("div",{style:t.collapsePannel,children:Object(b.jsxs)(p.C,{disabled:!n,children:[Object(b.jsxs)("h3",{style:t.collapasePannelTitle,onClick:function(){return s&&r("step3")},children:[Object(b.jsx)(p.b,{color:"secondary",pill:!0,size:"sm",children:"3"}),"  Customer"]}),Object(b.jsx)(p.l,{isOpen:n,children:Object(b.jsxs)(p.Q,{children:[Object(b.jsxs)(p.k,{md:"6",children:[Object(b.jsx)("h4",{children:"Delivery address:"}),Object(b.jsxs)("div",{children:["First Name: ",Object(b.jsx)("b",{children:d})]}),Object(b.jsxs)("div",{children:["Last Name: ",Object(b.jsx)("b",{children:h})]}),Object(b.jsxs)("div",{children:["Tel: ",Object(b.jsx)("b",{children:j})]}),Object(b.jsxs)("div",{children:["Country: ",Object(b.jsx)("b",{children:l})]}),Object(b.jsxs)("div",{children:["City: ",Object(b.jsx)("b",{children:o})]}),Object(b.jsxs)("div",{children:["State/Province: ",Object(b.jsx)("b",{children:m})]}),Object(b.jsxs)("div",{children:["Postal Code: ",Object(b.jsx)("b",{children:u})]}),Object(b.jsxs)("div",{children:["Address: ",Object(b.jsx)("b",{children:c+" "+a})]})]}),Object(b.jsx)(p.k,{md:"6",children:Object(b.jsx)("h4",{children:"Payment: "})})]})})]})})},f=function(e){var t=e.getCart,n=e.selectorTotalAmountCart,s=e.totalDelivery;return Object(b.jsxs)(p.B,{children:[Object(b.jsx)(p.C,{children:"Order Summary"}),Object(b.jsx)(p.C,{children:t.map((function(e){return Object(b.jsxs)(p.Q,{children:[Object(b.jsx)(p.k,{xs:"8",children:Object(b.jsxs)("p",{children:["x",e.quantity," ",e.title]})}),Object(b.jsx)(p.k,{xs:"4",children:Object(b.jsxs)("p",{children:[e.price,"$"]})})]},e._id)}))}),Object(b.jsxs)(p.C,{children:[Object(b.jsxs)(p.Q,{children:[Object(b.jsx)(p.k,{xs:"8",children:Object(b.jsx)("p",{children:"Subtotal"})}),Object(b.jsx)(p.k,{xs:"4",children:Object(b.jsxs)("p",{children:[n,"$"]})})]}),Object(b.jsxs)(p.Q,{children:[Object(b.jsx)(p.k,{xs:"8",children:Object(b.jsx)("p",{children:"Shipping"})}),Object(b.jsx)(p.k,{xs:"4",children:Object(b.jsxs)("p",{children:[s,"$"]})})]}),Object(b.jsxs)(p.Q,{children:[Object(b.jsx)(p.k,{xs:"8",children:Object(b.jsx)("p",{children:"Tax"})}),Object(b.jsx)(p.k,{xs:"4",children:Object(b.jsx)("p",{children:"0$"})})]})]}),Object(b.jsx)(p.C,{children:Object(b.jsxs)(p.Q,{children:[Object(b.jsx)(p.k,{xs:"8",children:Object(b.jsx)("p",{children:"Total"})}),Object(b.jsx)(p.k,{xs:"4",children:Object(b.jsxs)("b",{style:{fontSize:"25px"},children:[n+s,"$"]})})]})})]})},y={container:{paddingTop:"120px",paddingBottom:"120px"},h1:{paddingBottom:"20px"},collapsePannel:{borderBottom:"1px solid grey"},collapasePannelTitle:{cursor:"pointer"},formFieldsSpace:{paddingTop:"10px"}},v=function(e){var t=e.getCart,n=e.addUserAddress,s=e.getUserAddress,r=e.step1,i=e.step2,c=e.step3,a=e.step2Unlock,o=e.step3Unlock,l=e.email,d=e.firstName,h=e.lastName,j=e.country,m=e.city,x=e.province,O=e.postalCode,v=e.phoneNumber,k=e.address1,S=e.address2,N=e.shippingMethod,A=e.formIsValid,P=e.onChangeFirstName,U=e.onChangeLastName,F=e.onChangeCountry,E=e.onChangeCity,V=e.onChangeProvince,T=e.onChangePostalCode,I=e.onChangePhoneNumber,M=e.onChangeAdress1,w=e.onChangeAdress2,L=e.onChangeShipppingMethod,D=e.onChangeEmail,Q=e.toggle,R=e.stepsUnlock,q=e.formValidator,z=e.emailIsValid,$=e.handleEmailValidation,B=e.onSubmitOrder,G=e.selectorTotalAmountCart,J=e.totalDelivery;return Object(b.jsxs)("div",{children:[Object(b.jsx)(p.P,{value:o?100:a?66:33}),Object(b.jsxs)(p.m,{style:y.container,children:[Object(b.jsx)("h1",{style:y.h1,children:"Check out"}),Object(b.jsxs)(p.Q,{children:[Object(b.jsx)(p.k,{md:"8",children:Object(b.jsxs)(p.B,{flush:!0,children:[Object(b.jsx)(u,{styles:y,email:l,emailIsValid:z,handleEmailValidation:$,onChangeEmail:D,stepsUnlock:R,step1:r,step2:i,step2Unlock:a,toggle:Q}),Object(b.jsx)(g,{styles:y,stepsUnlock:R,step2:i,step2Unlock:a,toggle:Q,onChangeFirstName:P,onChangeLastName:U,onChangeCountry:F,onChangeCity:E,onChangeProvince:V,onChangePostalCode:T,onChangePhoneNumber:I,onChangeAdress1:M,onChangeAdress2:w,onChangeShipppingMethod:L,email:l,firstName:d,lastName:h,country:j,city:m,province:x,postalCode:O,phoneNumber:v,address1:k,address2:S,shippingMethod:N,formValidator:q,formIsValid:A,addUserAddress:n}),Object(b.jsx)(C,{styles:y,step3:c,step3Unlock:o,toggle:Q,getUserAddress:s,onSubmitOrder:B,selectorTotalAmountCart:G,totalDelivery:J})]})}),Object(b.jsx)(p.k,{md:"4",children:Object(b.jsx)(f,{getCart:t,selectorTotalAmountCart:G,totalDelivery:J})})]})]})]})},k=n(5),S=function(e){Object(c.a)(n,e);var t=Object(a.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).onChangeEmail=function(e){return s.setState({email:e.target.value})},s.onChangeFirstName=function(e){return s.setState({firstName:e.target.value})},s.onChangeLastName=function(e){return s.setState({lastName:e.target.value})},s.onChangeCountry=function(e){return s.setState({country:e.target.value})},s.onChangeCity=function(e){return s.setState({city:e.target.value})},s.onChangeProvince=function(e){return s.setState({province:e.target.value})},s.onChangePostalCode=function(e){return s.setState({postalCode:Number(e.target.value)})},s.onChangePhoneNumber=function(e){return s.setState({phoneNumber:Number(e.target.value)})},s.onChangeAdress1=function(e){return s.setState({address1:e.target.value})},s.onChangeAdress2=function(e){return s.setState({address2:e.target.value})},s.onChangeShipppingMethod=function(e){return s.setState({shippingMethod:e})},s.handleEmailValidation=function(e){return s.setState({emailIsValid:e})},s.formValidator=function(e){return s.setState({formIsValid:e})},s.toggle=function(e){"step1"===e?s.setState({step1:!0,step2:!1,step3:!1}):"step2"===e?s.setState({step1:!1,step2:!0,step3:!1}):"step3"===e&&s.setState({step1:!1,step2:!1,step3:!0})},s.stepsUnlock=function(e){"step2"===e?s.setState({step2Unlock:!0,step1:!1,step2:!0,step3:!1}):"step3"===e&&s.setState({step3Unlock:!0,step1:!1,step2:!1,step3:!0})},s.onSubmitOrder=function(){var e=s.state,t=e.email,n=e.firstName,r=e.lastName,i=e.country,c=e.city,a=e.province,o=e.postalCode,l=e.phoneNumber,h=e.address1,j=e.address2,p=e.totalDelivery,b=s.props,u=b.getCart,m=b.selectorTotalAmountCart,x=Math.random().toString(36).substring(5)+Date.now();d.a.post("/api/add/orders",{ref:x,customerinfo:{email:t,firstName:n,lastName:r,country:i,city:c,province:a,postalCode:o,phoneNumber:l,address1:h,address2:j},order:u.map((function(e){return{idItem:e._id,titleItem:e.title,selectedSize:e.selectedSize,selectedColor:e.selectedColor,price:e.price,quantity:e.quantity}})),totalDelivery:p,totalAmount:m}).catch((function(e){console.log(e)}))},s.state={step1:!0,step2:!1,step2Unlock:!1,step3:!1,step3Unlock:!1,email:"",emailIsValid:!0,firstName:"fgsfdsf",lastName:"fsdfsd",country:"USA",city:"fdsfdsfdsf",province:"fdsfdsf",postalCode:8767671167,phoneNumber:17671651,address1:"qdfsqfdsqfcfdxsf",address2:"xsfdsxfsdfxsdf",shippingMethod:2,formIsValid:!1,totalDelivery:5},s}return Object(i.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)(v,Object(s.a)(Object(s.a)(Object(s.a)({},this.state),this.props),{},{onChangeFirstName:this.onChangeFirstName,onChangeLastName:this.onChangeLastName,onChangeCountry:this.onChangeCountry,onChangeCity:this.onChangeCity,onChangeProvince:this.onChangeProvince,onChangePostalCode:this.onChangePostalCode,onChangePhoneNumber:this.onChangePhoneNumber,onChangeAdress1:this.onChangeAdress1,onChangeAdress2:this.onChangeAdress2,onChangeShipppingMethod:this.onChangeShipppingMethod,stepsUnlock:this.stepsUnlock,toggle:this.toggle,onChangeEmail:this.onChangeEmail,handleEmailValidation:this.handleEmailValidation,formValidator:this.formValidator,onSubmitOrder:this.onSubmitOrder}))})}}]),n}(o.Component);t.default=Object(h.b)((function(e){return{getCart:e.cartReducer,getUserAddress:e.getUserAddress,selectorTotalAmountCart:Object(j.a)(e)}}),(function(e){return{addUserAddress:function(t){return e((n=t,{type:k.r,infoUser:n}));var n}}}))(S)}}]);
//# sourceMappingURL=16.6e4081e2.chunk.js.map